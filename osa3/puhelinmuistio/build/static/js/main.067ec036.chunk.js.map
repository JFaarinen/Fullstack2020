{"version":3,"sources":["components/Person.js","components/ShowPersons.js","components/AddPerson.js","components/Message.js","services/contacts.js","App.js","index.js"],"names":["Person","name","number","deletePerson","onClick","ShowPersons","filteredPersons","map","person","key","id","AddPerson","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Message","message","className","baseUrl","axios","get","newContact","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","filtered","setFiltered","showAll","setShowAll","setMessage","setType","useEffect","contactService","then","response","data","filter","toLowerCase","includes","showMessage","setTimeout","event","console","log","target","preventDefault","existing","length","window","confirm","updated","catch","error","newPerson","concat","poistettava","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.067ec036.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ name, number, deletePerson }) => {\r\n  return (\r\n    <li>\r\n      {name}: {number}\r\n      <button onClick={deletePerson}>Poista</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst ShowPersons = ({ filteredPersons, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      <h3>Numbers</h3>\r\n      <ul>\r\n        {filteredPersons.map((person) => (\r\n          <Person\r\n            key={person.name}\r\n            name={person.name}\r\n            number={person.number}\r\n            deletePerson={() => deletePerson(person.id)}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShowPersons;\r\n","import React from \"react\";\r\n\r\nconst AddPerson = ({\r\n    addPerson,\r\n    newName,\r\n    handleNameChange,\r\n    newNumber,\r\n    handleNumberChange,\r\n}) => {\r\n    return (\r\n        <div>\r\n            <h3>Add new</h3>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    name: <input value={newName} onChange={handleNameChange} />\r\n                </div>\r\n                <div>\r\n                    number: <input value={newNumber} onChange={handleNumberChange} />\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPerson;\r\n","import React from 'react';\r\n\r\nconst Message = ({ type, message }) => {\r\n    if (message === null) {\r\n        return null;\r\n    } else {\r\n        return (\r\n            <div className={type}>{message}</div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Message;","import axios from 'axios';\r\nconst baseUrl = 'http://localhost:3001/api/persons';\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl);\r\n};\r\n\r\nconst addNew = (newContact) => {\r\n    return axios.post(baseUrl, newContact);\r\n};\r\n\r\nconst update = (id, newContact) => {\r\n    return axios.put(`${baseUrl}/${id}`, newContact);\r\n};\r\n\r\nconst delPerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default {\r\n    getAll, addNew, update, delPerson\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport ShowPersons from \"./components/ShowPersons\";\r\nimport AddPerson from \"./components/AddPerson\";\r\nimport Message from \"./components/Message\";\r\nimport contactService from \"./services/contacts\"\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([]);\r\n    const [newName, setNewName] = useState(\"\");\r\n    const [newNumber, setNewNumber] = useState(\"\");\r\n    const [filtered, setFiltered] = useState(\"\");\r\n    const [showAll, setShowAll] = useState(true);\r\n    const [message, setMessage] = useState(null);\r\n    const [type, setType] = useState(null);\r\n\r\n    useEffect(() => {\r\n        contactService\r\n            .getAll()\r\n            .then(response => {\r\n                setPersons(response.data);\r\n            });\r\n    }, []);\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault();\r\n        const existing = persons.filter((person => person.name === newName));\r\n        console.log(existing);\r\n        if (existing.length > 0) {\r\n            if (window.confirm(`${existing[0].name} is already in phonebook, do you want to replace the number?`)) {\r\n                const updated = { ...existing[0], number: newNumber };\r\n                contactService\r\n                    .update(updated.id, updated)\r\n                    .then(response => {\r\n                        showMessage('message', `Contact ${updated.name}: number updatet`);\r\n                        setPersons(persons.map(\r\n                            person => person.id !== updated.id ? person : response.data));\r\n                    })\r\n                    .catch(error => {\r\n                        showMessage('error', `Error: Contact was already removed from database`);\r\n                        setPersons(persons.filter(person => person.id !== updated.id));\r\n                    });\r\n            } else {\r\n                showMessage('message', `Contact was not modified`);\r\n            }\r\n            setNewName(\"\");\r\n            setNewNumber(\"\");\r\n        } else {\r\n            const newPerson = { name: newName, number: newNumber };\r\n\r\n            contactService\r\n                .addNew(newPerson)\r\n                .then(response => {\r\n                    showMessage('message', `Contact ${newPerson.name} added to database`);\r\n                    setPersons(persons.concat(response.data));\r\n                    setNewName(\"\"); setNewNumber(\"\");\r\n                })\r\n                .catch(error => {\r\n                    showMessage('error', `Error: ${error.message} Validation error`);\r\n                });\r\n        }\r\n    };\r\n\r\n    const deletePerson = (id) => {\r\n        const poistettava = persons.find(person => person.id === id);\r\n        if (window.confirm(`Poistetaanko ${poistettava.name}`)) {\r\n            contactService\r\n                .delPerson(id)\r\n                .then(response => {\r\n                    showMessage('message', `Contact  ${poistettava.name} removed from database`);\r\n                    setPersons(persons.filter(person => person.id !== id));\r\n                });\r\n        } else {\r\n            showMessage('message', `Person ${poistettava.name} not removed`);\r\n        }\r\n    };\r\n\r\n    const filteredPersons = showAll\r\n        ? persons\r\n        : persons.filter((person) => person.name.toLowerCase().includes(filtered));\r\n\r\n    const showMessage = (type, message) => {\r\n        setType(type);\r\n        setMessage(message);\r\n        setTimeout(() => { setMessage(null) }, 5000);\r\n    };\r\n\r\n    const handleNameChange = (event) => {\r\n        console.log(event.target.value);\r\n        setNewName(event.target.value);\r\n    };\r\n\r\n    const handleNumberChange = (event) => {\r\n        console.log(event.target.value);\r\n        setNewNumber(event.target.value);\r\n    };\r\n\r\n    const handleFilterChange = (event) => {\r\n        console.log(event.target.value);\r\n        setFiltered(event.target.value);\r\n        if (filtered === \"\") {\r\n            console.log(\"näytetään kaikki\");\r\n            setShowAll(true);\r\n        } else {\r\n            console.log(\"suodatus \", event.target.value);\r\n            setShowAll(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Message type={type} message={message} />\r\n            <div>\r\n                filter shown with{\" \"}\r\n                <input value={filtered} onChange={handleFilterChange} />\r\n            </div>\r\n            <AddPerson\r\n                addPerson={addPerson}\r\n                newName={newName}\r\n                handleNameChange={handleNameChange}\r\n                newNumber={newNumber}\r\n                handleNumberChange={handleNumberChange}\r\n            />\r\n            <ShowPersons filteredPersons={filteredPersons} deletePerson={deletePerson} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}